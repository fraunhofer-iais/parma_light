node {
    "name": "nd_train",
    "image": { "name": "sklearn_train", "version": "1" },
    "input": {
        "seed":         {"type": "environment_var", "format": "str", "environment_var_in_container": "SEED"}
    },
    "output": {
        "model":       { "type": "file", "format": "any", "path_in_container": "/data/model.pkl" },
        "X_test":      { "type": "file", "format": "json", "path_in_container": "/data/X_test.json" },
        "true_labels": { "type": "file", "format": "json", "path_in_container": "/data/true_labels.json" }
    }
};

node {
    "name": "nd_predict",
    "image": { "name": "sklearn_predict", "version": "1"},
    "input": {
        "model":  { "type": "file", "format": "any", "path_in_container": "/data/model.pkl" },
        "X_test": { "type": "file", "format": "any", "path_in_container": "/data/X_test.json" }
    },
    "output": {
        "pred_labels": { "type": "file", "format": "json", "path_in_container": "/data/pred_labels.json" }
    }
};

node {
    "name": "nd_metric",
    "image": { "name": "sklearn_metric", "version": "1"},
    "input": {
        "cmd":         {"type": "environment_var", "format": "str", "environment_var_in_container": "CMD"},
        "pred_labels": { "type": "file", "format": "json", "path_in_container": "/data/pred_labels.json" },
        "true_labels": { "type": "file", "format": "json", "path_in_container": "/data/true_labels.json" }
    },
    "output": {
        "result":      {"type": "file", "format": "json", "path_in_container": "/data/result.json"}
    }
};
